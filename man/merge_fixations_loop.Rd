% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/merge_fixations_loop.R
\name{merge_fixations_loop}
\alias{merge_fixations_loop}
\title{Merge Adjacent Fixations Based on Duration and Distance}
\usage{
merge_fixations_loop(df, max_duration = 80, max_distance = 12, rate = 1000)
}
\arguments{
\item{df}{A data frame containing fixation data, including columns \code{x}, \code{y}, \code{duration},
\code{t_start}, and \code{t_end}.}

\item{max_duration}{Numeric. The maximum duration (in milliseconds) under which a fixation
can be considered for merging. Defaults to 80 ms.}

\item{max_distance}{Numeric. The maximum distance (in pixels) under which a fixation
can be merged with an adjacent fixation. Defaults to 12 pixels.}

\item{rate}{Numeric. The sampling rate of the eye-tracker in Hz. Used to adjust
the merged fixation duration. Defaults to 1000 Hz.}
}
\value{
A data frame with the same columns as \code{df}, with updated \code{t_start}, \code{t_end},
and \code{duration} values for merged fixations. A new column \code{merged} is added,
indicating whether a fixation was merged (\code{TRUE} or \code{FALSE}).
}
\description{
This function merges adjacent fixations in an eye-tracking dataset based on specified
maximum duration and spatial distance criteria. Using a loop, it checks each fixation
and determines if it should be merged with the previous or next fixation.
}
\details{
This function iterates through each fixation and checks if the duration is below
\code{max_duration} and if the spatial distance to the previous or next fixation is
below \code{max_distance}. If these conditions are met, the fixation is merged with
the adjacent fixation, and \code{t_start}, \code{t_end}, and \code{duration} values are updated.
The function issues a warning if there are fewer than 3 fixations, as merging
cannot occur in this case.
}
\examples{
# Example usage:
merged_fixations <- merge_fixations_loop(df, max_duration = 80, max_distance = 12, rate = 1000)

}
